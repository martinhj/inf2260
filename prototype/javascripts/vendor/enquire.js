(function(e,t,n){var r=t.matchMedia;if(typeof module!=="undefined"&&module.exports){module.exports=n(r)}else if(typeof define==="function"&&define.amd){define(function(){return t[e]=n(r)})}else{t[e]=n(r)}})("enquire",this,function(e){"use strict";function t(e,t){var n=0,r=e.length,i;for(n;n<r;n++){i=t(e[n],n);if(i===false){break}}}function n(e){return Object.prototype.toString.apply(e)==="[object Array]"}function r(e){return typeof e==="function"}function i(e){this.options=e;!e.deferSetup&&this.setup()}function s(t,n){this.query=t;this.isUnconditional=n;this.handlers=[];this.mql=e(t);var r=this;this.listener=function(e){r.mql=e;r.assess()};this.mql.addListener(this.listener)}function o(){if(!e){throw new Error("matchMedia not present, legacy browsers require a polyfill")}this.queries={};this.browserIsIncapable=!e("only all").matches}i.prototype={setup:function(){if(this.options.setup){this.options.setup()}this.initialised=true},on:function(){!this.initialised&&this.setup();this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}};s.prototype={addHandler:function(e){var t=new i(e);this.handlers.push(t);this.matches()&&t.on()},removeHandler:function(e){var n=this.handlers;t(n,function(t,r){if(t.equals(e)){t.destroy();return!n.splice(r,1)}})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){t(this.handlers,function(e){e.destroy()});this.mql.removeListener(this.listener);this.handlers.length=0},assess:function(){var e=this.matches()?"on":"off";t(this.handlers,function(t){t[e]()})}};o.prototype={register:function(e,i,o){var u=this.queries,a=o&&this.browserIsIncapable;if(!u[e]){u[e]=new s(e,a)}if(r(i)){i={match:i}}if(!n(i)){i=[i]}t(i,function(t){u[e].addHandler(t)});return this},unregister:function(e,t){var n=this.queries[e];if(n){if(t){n.removeHandler(t)}else{n.clear();delete this.queries[e]}}return this}};return new o})